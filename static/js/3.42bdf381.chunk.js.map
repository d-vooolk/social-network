{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/MyPosts.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusWIthHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","ProfileInfo","profile","src","photos","large","className","profileInfoStyle","descriptionBlock","Preloader","Post","postStyle","post","message","likesCount","MyPosts","memo","postsElements","posts","map","key","id","NewPostMessageRedux","onSubmit","values","addPost","newPostText","style","maxLength100","maxLengthCreator","reduxForm","form","handleSubmit","Field","component","Textarea","name","validate","required","placeholder","MyPostsContainer","profilePage","dispatch","addPostActionCreator","Profile","profileStyle","content","ProfileContainer","userId","match","params","authorizedUserId","history","getUserProfile","getStatus","compose","withRouter"],"mappings":"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","file":"static/js/3.42bdf381.chunk.js","sourcesContent":["import React from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\n\nlet mapStateToPropsForRedirect = (state) => ({\n    isAuth: state.auth.isAuth\n});\n\nexport const withAuthRedirect = (Component) => {\n\n    class RedirectComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth) return <Redirect to={'/login'} />\n\n            return <Component {...this.props} />\n        }\n    }\n\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\n\n    return ConnectedAuthRedirectComponent;\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coverImage\":\"ProfileInfo_coverImage__2-DBJ\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3cd8Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__A0EJd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, {useEffect, useState} from \"react\";\n\nconst ProfileStatusWithHooks = (props) => {\n\n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(props.status);\n\n    useEffect( () => {\n        setStatus(props.status);\n    }, [props.status]);\n\n    const activateEditMode = () => {\n        setEditMode(true);\n    }\n\n    const deactivateEditMode = () => {\n        setEditMode(false);\n        props.updateStatus(status);\n    }\n\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value);\n    }\n\n    return (\n        <div>\n            { !editMode &&\n            <div>\n                <span onDoubleClick={activateEditMode}>{props.status || 'no status'}</span>\n            </div>\n            }\n\n            { editMode &&\n            <div>\n                <input\n                    autoFocus={true}\n                    onBlur={deactivateEditMode}\n                    onChange={onStatusChange}\n                    value={status}\n                />\n            </div>\n            }\n        </div>\n    )\n}\n\nexport default ProfileStatusWithHooks;\n","import profileInfoStyle from './ProfileInfo.module.css';\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport ProfileStatusWithHooks from \"./ProfileStatus/ProfileStatusWIthHooks\";\nimport React from 'react';\n\nfunction ProfileInfo({profile, status, updateStatus}) {\n    if (!profile) {\n        return <Preloader />\n    }\n\n    return (\n        <div>\n            <img src={profile.photos.large}/>\n            <div className={profileInfoStyle.descriptionBlock}>\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\n            </div>\n        </div>\n    )\n}\n\nexport default ProfileInfo;","import postStyle from './Post.module.css';\nimport React from 'react';\n\nconst Post = (props) => {\n    return (\n        <div className={postStyle.post}>\n            <div> {props.message} </div>\n            <div> {'likes: ' + props.likesCount} </div>\n        </div>\n    );\n}\n\nexport default Post;","import Post from './Post/Post';\nimport style from './MyPosts.module.css';\nimport React from \"react\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\n\n\nconst MyPosts = React.memo((props) => {\n\n    let postsElements = props.posts.map(post =>\n        <Post message={post.message} key={post.id} likesCount={post.likesCount}/>)\n\n    let onAddPost = (values) => {\n        props.addPost(values.newPostText);\n    }\n\n\n    return (\n        <div>\n            <h3>my posts</h3>\n            <NewPostMessageRedux onSubmit={onAddPost}/>\n            <div className={style.posts}>\n                {postsElements}\n            </div>\n        </div>\n    );\n})\n\nconst maxLength100 = maxLengthCreator(100);\n\nconst AddNewPostForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field\n                    component={Textarea}\n                    name={'newPostText'}\n                    validate={[required, maxLength100]}\n                    placeholder={'Post message'}\n                />\n            </div>\n            <div>\n                <button>Send</button>\n            </div>\n        </form>\n    )\n}\n\nconst NewPostMessageRedux = reduxForm({\n    form: 'ProfileAddNewPostForm'\n})(AddNewPostForm);\n\nexport default MyPosts;","import React from \"react\";\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\n\n\nlet mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts,\n        newPostText: state.profilePage.newPostText\n    }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n\n        addPost: (newPostText) => {\n            dispatch(addPostActionCreator(newPostText));\n        }\n\n    }\n}\n\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;","import profileStyle from './Profile.module.css';\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\nimport React from 'react';\n\n\nfunction Profile(props) {\n    return (\n        <div className={profileStyle.content}>\n\n            <ProfileInfo\n                profile={props.profile}\n                status={props.status}\n                updateStatus={props.updateStatus}\n            />\n            <MyPostsContainer />\n\n        </div>\n    );\n}\n\nexport default Profile;","import profileStyle from './Profile.module.css';\nimport React from \"react\";\nimport Profile from \"./Profile\";\nimport {connect} from \"react-redux\";\nimport {getStatus, getUserProfile, updateStatus} from \"../../redux/profile-reducer\";\nimport {withRouter} from \"react-router-dom\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\n\n\nclass ProfileContainer extends React.Component{\n\n    componentDidMount() {\n\n        let userId = this.props.match.params.userId;\n        if (!userId) {\n            userId = this.props.authorizedUserId;\n            if (!userId) this.props.history.push('login');\n        }\n        this.props.getUserProfile(userId);\n        this.props.getStatus(userId);\n    }\n\n    render() {\n\n        return (\n            <div className={profileStyle.content}>\n\n                <Profile {...this.props}\n                         profile={this.props.profile}\n                         status={this.props.status}\n                         updateStatus={this.props.updateStatus}\n                />\n\n            </div>\n        );\n    }\n}\n\nlet mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorizedUserId: state.auth.userId,\n    isAuth: state.auth.isAuth\n})\n\nexport default compose(\n    connect(mapStateToProps,{getUserProfile, getStatus, updateStatus}),\n    withRouter\n)(ProfileContainer);"],"sourceRoot":""}