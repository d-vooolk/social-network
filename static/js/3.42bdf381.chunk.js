(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{297:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var a=n(31),r=n(32),s=n(35),o=n(34),u=n(0),i=n.n(u),c=n(9),l=n(17),p=function(t){return{isAuth:t.auth.isAuth}},f=function(t){var e=function(e){Object(s.a)(u,e);var n=Object(o.a)(u);function u(){return Object(a.a)(this,u),n.apply(this,arguments)}return Object(r.a)(u,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(t,this.props):i.a.createElement(c.a,{to:"/login"})}}]),u}(i.a.Component);return Object(l.b)(p)(e)}},298:function(t,e,n){},299:function(t,e,n){t.exports={coverImage:"ProfileInfo_coverImage__2-DBJ",descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y"}},300:function(t,e,n){t.exports={post:"Post_post__A0EJd"}},301:function(t,e,n){t.exports={postsBlock:"MyPosts_postsBlock__2ifKf",posts:"MyPosts_posts__3tZ1c"}},303:function(t,e,n){"use strict";n.r(e);var a=n(31),r=n(32),s=n(35),o=n(34),u=n(298),i=n.n(u),c=n(0),l=n.n(c),p=n(299),f=n.n(p),m=n(45);var d=n(94);function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,r=!1,s=void 0;try{for(var o,u=t[Symbol.iterator]();!(a=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(i){r=!0,s=i}finally{try{a||null==u.return||u.return()}finally{if(r)throw s}}return n}}(t,e)||Object(d.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(t){var e=h(Object(c.useState)(!1),2),n=e[0],a=e[1],r=h(Object(c.useState)(t.status),2),s=r[0],o=r[1];Object(c.useEffect)((function(){o(t.status)}),[t.status]);return l.a.createElement("div",null,!n&&l.a.createElement("div",null,l.a.createElement("span",{onDoubleClick:function(){a(!0)}},t.status||"no status")),n&&l.a.createElement("div",null,l.a.createElement("input",{autoFocus:!0,onBlur:function(){a(!1),t.updateStatus(s)},onChange:function(t){o(t.currentTarget.value)},value:s})))};var v=function(t){var e=t.profile,n=t.status,a=t.updateStatus;return e?l.a.createElement("div",null,l.a.createElement("img",{src:e.photos.large}),l.a.createElement("div",{className:f.a.descriptionBlock},l.a.createElement(b,{status:n,updateStatus:a}))):l.a.createElement(m.a,null)},E=n(91),y=n(300),g=n.n(y),j=function(t){return l.a.createElement("div",{className:g.a.post},l.a.createElement("div",null," ",t.message," "),l.a.createElement("div",null," ","likes: "+t.likesCount," "))},O=n(301),P=n.n(O),S=n(84),k=n(124),_=n(43),w=n(30),I=l.a.memo((function(t){var e=t.posts.map((function(t){return l.a.createElement(j,{message:t.message,key:t.id,likesCount:t.likesCount})}));return l.a.createElement("div",null,l.a.createElement("h3",null,"my posts"),l.a.createElement(x,{onSubmit:function(e){t.addPost(e.newPostText)}}),l.a.createElement("div",{className:P.a.posts},e))})),A=Object(_.a)(100),x=Object(k.a)({form:"ProfileAddNewPostForm"})((function(t){return l.a.createElement("form",{onSubmit:t.handleSubmit},l.a.createElement("div",null,l.a.createElement(S.a,{component:w.b,name:"newPostText",validate:[_.b,A],placeholder:"Post message"})),l.a.createElement("div",null,l.a.createElement("button",null,"Send")))})),B=I,C=n(17),N=Object(C.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(E.a)(e))}}}))(B);var T=function(t){return l.a.createElement("div",{className:i.a.content},l.a.createElement(v,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),l.a.createElement(N,null))},J=n(9),U=(n(297),n(7)),D=function(t){Object(s.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return l.a.createElement("div",{className:i.a.content},l.a.createElement(T,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})))}}]),n}(l.a.Component);e.default=Object(U.d)(Object(C.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:E.d,getStatus:E.c,updateStatus:E.e}),J.f)(D)}}]);
//# sourceMappingURL=3.42bdf381.chunk.js.map